<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <script src="https://cdn.jsdelivr.net/npm/lodash@4.17.15/lodash.min.js"></script>
</head>

<script>
    var TRAIN = [];
    var STIMS = [
        { group: "bleu", stimulus: "face1" },
        { group: "bleu", stimulus: "face2" },
        { group: "bleu", stimulus: "face3" },
        { group: "bleu", stimulus: "face4" },
        { group: "bleu", stimulus: "face5" },
        { group: "bleu", stimulus: "face6" },
        { group: "bleu", stimulus: "face7" },
        { group: "bleu", stimulus: "face8" },
        { group: "vert", stimulus: "face1" },
        { group: "vert", stimulus: "face2" },
        { group: "vert", stimulus: "face3" },
        { group: "vert", stimulus: "face4" },
        { group: "vert", stimulus: "face5" },
        { group: "vert", stimulus: "face6" },
        { group: "vert", stimulus: "face7" },
        { group: "vert", stimulus: "face8" },
    ];

    TRAIN.push(_.sampleSize(_.filter(STIMS, {'group':'bleu'}), 3));
    TRAIN.push(_.sampleSize(_.filter(STIMS, {'group':'vert'}), 3));
    TRAIN = _.flattenDeep(TRAIN);

</script>

</html>