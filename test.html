<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>exp</title>
  <script src="jspsych-6.0.3/jspsych.js"></script>
  <script src="jspsych-6.0.3/plugins/jspsych-fullscreen.js"></script>
  <script src="jspsych-6.0.3/plugins/jspsych-html-button-response.js"></script>
  <script src="js/jspsych-html-mouse-response.js"></script>
  <script src="jspsych-6.0.3/plugins/jspsych-survey-text.js"></script>
  <script src="jspsych-6.0.3/plugins/jspsych-survey-multi-choice.js"></script>
  <script src="jspsych-6.0.3/plugins/jspsych-call-function.js"></script>
  <script src="js/jquery.min.js"></script>
  <script src="js/lodash.min.js"></script>
  <script src="js/firebase.js"></script>
  <link href="jspsych-6.0.3/css/jspsych.css" rel="stylesheet" type="text/css">
  <style>
    body {
      cursor: default;
    }

    .rcimg-02 {
      cursor: pointer;
    }

    .rcimg-02 {
      margin-top: 25px;
      margin-bottom: 25px;
      margin-left: 10px;
      margin-right: 10px;
    }

    .rcimg-02:hover {
      box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.2), 0 6px 20px 0 rgba(0, 0, 0, 0.19);
    }

    .jspsych-content-wrapper {
      width: 1100px;
      height: 700px;
    }
  </style>
</head>

<body></body>

<script>
  var jspsych_id = jsPsych.data.getURLVariable("jspsych_id");
  if (jspsych_id == null) { jspsych_id = jsPsych.randomization.randomID(15) };

  var timeline = [];

  var question = {
    type: "html-button-response",
    stimulus: "Please choose a language:",
    choices: ['English', 'Français', 'Deutsch'],
  };

  timeline.push(question);

  jsPsych.init({
    timeline: timeline,
    on_finish: function (data) {

      jsPsych.data.addProperties({
        jspsych_id: jspsych_id
      });

      // Process response
      var res = data.filter({ stimulus: "Please choose a language:" }).json();
      res = JSON.parse(res)[0].button_pressed;
      console.log(res);

      // Redirect to second part
      switch (res) {
        case "0": // English
          window.location.href = "https://marinerougier.github.io/SocVaast_Coro/index_en.html?jspsych_id=" + jspsych_id;
          break;
        case "1": // Français
          window.location.href = "https://marinerougier.github.io/SocVaast_Coro/index_fr.html?jspsych_id=" + jspsych_id;
          break;
        case "2": // Deutsch
          window.location.href = "https://google.com?jspsych_id=" + jspsych_id;
          break;
      };
    }
  });
</script>

</html>